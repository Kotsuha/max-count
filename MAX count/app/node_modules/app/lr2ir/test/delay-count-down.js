"use strict";

const Promise = require("bluebird");

module.exports = function(sec) {
	sec = parseInt(sec);
	let arr = [];
	arr.push(() => console.log());
	for (let i = sec; i > 0; i--) {
		const j = i;
		arr.push(function() {
			process.stdout.write("\x1b[K");
			for (let i = 1; i < j; i++) {
				process.stdout.write(".");
			}
			process.stdout.write("\r");
			return Promise.delay(1000);
		});
	}
	return Promise.each(arr, (fn) => fn());
};
