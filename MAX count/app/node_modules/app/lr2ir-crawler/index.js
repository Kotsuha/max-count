"use strict";

const lr2ir = require("app/lr2ir");
const { 
	MyList, 
	SongRanking 
} = require("./util");
const Promise = require("bluebird");


const Foon = function Foon() {};

(function() {
	this.requestPlayDataEntries = function(playerid, page) {
		return Promise.resolve()
			.then(() => lr2ir.openMyList(playerid, "clear", page))
			.then(($) => MyList.getPlayDataEntries($))
			.catch((err) => Promise.reject(err));
	};
	this.requestSongRankingEntries = function(bmsid, page) {
		return Promise.resolve()
			.then(() => lr2ir.openSongRanking(bmsid, page))
			.then(($) => SongRanking.getRankingEntries($))
			.catch((err) => Promise.reject(err));
	};
}).bind(Foon.prototype)();

const foon = new Foon();

module.exports = foon;
